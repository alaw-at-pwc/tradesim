Things to add:
- orderbook replay - takes in excel file
    - bug fixes needed are as follows:
        - figure out cause for mismatch in time conversions, so not reliant on just a "x - 1 hour" to calculate the time
        - figure out how to display orders, i.e. order logic to figure out if it was open at that point in time (figure out logic first) 
- button to enable variable news flashes - randomly throughout sim, flash up random news on the front end, which could lead to drastic changes. 

Things to fix:

Things to tweak:
- how bots decide quantity and price level to place order 
    - 04/07 - made bots have their own ways to decide quantity and price level. however, much of this is still up to chance
    - Should add a form of strategy, maybe encourage more executions to cause more variation in the price (wihtin reason) - should enoucrage more buy executions to happen, as price tends to trend downwards
    - Dynamic risk means that the quantity set is dependent on a variety of factors beyond just randomness (although this still does play a part)
- Currently, the market trends downwards, and has difficulty rebounding back. Furthermore, bots are often making a loss, which is likely tied to the fact the price is trending down.
    - 25/07 - made a fix around tree 1 referencing the wrong column of the transaction log. Small other fixes around paramters and decisions now means the market does not trend downards.
    - 25/07 - added ability to track decisions made by bots in df_decicions
- Test the price cancel section, and whether to just keep the basic far-away order element

Completed items:
- Look to fix botlogic.py so it can be used as a script to import in, for ease of navigation
    - 03/07 - seems to have fixed itself. will look to improve this but having multiple separate scripts to improve visibility
    - 04/07 - fixed this, ensure to add disclaimer to clone repository. split out into multiple files now
- what happens when user crosses best bid/ask by multiple price levels
    - 03/07 - tested and seems okay, although the market price indicates that the order price is the market price, need to test to see if it is reflective, and whether the transaction log accurately records the transactions
    - 04/07 - issue has been fixed
- Fix is required around an output file being produced, as well as the simulation not ending on the timer (if selected)
    - 04/07 - this has been fixed now
- Fix on user updates to front end, and correctly updating df_participants after user executes in the market
    - 05/07 - fixed so that user profile is updated correctly
- certain bots having the ability to place multiple orders at once 
    - 04/07 - added this functionality in so all bots can should they want to, but not all bots have the ability to generate restuls to do this (only IB and MM currently)
- system that updates the graph so that the candlesticks change and represent incresinsgly longer increments of time
    - 05/07 - completed this. but chart will break if the sim is run for more than an hour
- probabilities of various market states 
    - 04/07 - seems to make more sense, and it does not cause the market to runaway as often as it did before 
- ability for user to cancel open orders 
    - 06/07 - added ability, including front end to interact with
- Reorganising creation of orderbook visuals so that order_id is present by default, so that an error cannot be flagged for when user orderbooks are empty, and the user attempts to cancel
    - 09/07 - fixed
- ability for user to see total open positions 
    - 09/07 - added in 
- create dataframes that hold the history of orders for both buy and sell
    - -09/07 - added in but need to change amendments to a merge in order to keep track of entire progress of order 
- Test for what happens when orderbooks are emptied out after market setup
    - 09/07 - fixed liquidity creator and MM trees, and successfully add liquidit to the market
- Urgent fix required around rebalancing the parameters in each decision tree 
    - 03/07 - fixed so that orderbooks are more balanced, although further testing is likely needed
    - 04/07 - orderbooks seem to be more balanced, but become increasingly top heavy as the simulation progresses - need to reduce number of orders placed at priority 
    - 09/07 - likely an issue that both RI and MM are casuing, need to test and change params in order to reduce this behaviour
    - 09/07 - fixed so that priority price level is not clogged with orders. further testing needed but for now is solved
- simulation slows down as it progresses - likely caused by the history dataframes - maybe seek a light way to do this (dictionary?)
    - 10/07 - sim speed seems to be fairly consistent
- user profile - round all numbers to 2dp, and also check if cancellling orders is working, i suspect an issue when it comes to ammending the historic orderbook
    - 10/07 - fixed although it is a bit slow to cancel orders/ execute any user interaction
- reconfigure orderbooks to include order id, and for the historic orderbook to be just one orderbook, with the associated orderIDs and new columns (order version, order side etc.)
    - 12/07 - added this in and is functioning
- need to review input order format so that is consistnely in the correct order, and so the trader id and timestamp columns are being filled correctly
    - 12/07 - fixed in line with the above
- investigated reason for orderbook producing NaNs 
    - 09/07 - likely an error caused by an execution at the best_bid, and the left over order not being properly written to the orderbook. 
- need to fix graph recalculation during candlestick changes 
    - 17/07 - need to keep timestamp as index either consistently, or just for when updating the front_end df
    - 18/07 - fixed and working
- parameters around calculation of asset/capital ratio 
    - 03/07 - made some changes but needs to be more rigorously tested
- improve and change the logic for each unique decision tree to fit that profile
    - 04/07 - made some amendments so that trees are more unique, but can be improved further 
- need to ammend transaction log write up to include order ids
    - 12/07 - need to also add in orders that are executed immediately to be written to the orderbook_log too, and generate and associate order_id
    - 12/07 - transaction log now records ids. however, some orders are not being recorded as filled as accordingly, and NaN issue in orderbooks persists
    - 17/07 - this has been resolved, only issue is after an aggressive execution with left over quantity, child orders are not updated to being closed - need to add differentiating for different fills
    - 18/07 - primarily fixed - minor bug persists with quantity rewrites - standardise timestamp datatype to fix
    - 19/07 - fixed, sometimes produces negative quantity on sell side (look into, but otherwise working)
- for RI and PI traders, split out into different categories so you have risky and less risky participants, which rely on different trees more than others
    - 22/07 - added this in, with slight modifications to how decisons are made, and the quantitity that is used for orders
- add recent trasactions to be displayed on front end 
    - 22/07 - added in
- some bots should consider trading volumes to inform decisions too 
    - 22/07 - added in for IB and MM traders
- bots considering what open orders they have, how this might impact their orders/type of orders, and whether to cancel orders
    - 09/07 - IB traders will consider what open orders they have and will factor this into their decision making. however, no order cancellations are in the logic, aside from the default order cancellations
- library list with current versions
    - 22/07 - added in
- some bots wealth not being to 2 d.p.
    - 23/07 - general fix to continually round all bots' wealth to 2dp
- suppress future pandas warnings
    - 23/07 - added in 
- quantity becoming negative for bots, meaning they place negative orders 
    - 23/07 - multiplied quantity by risk level in order to reduce quantity placed in market. added in a fail safe too
- market data period selection
    - 22/07 - added in but needs to be teseted for longer run sims, and for cases where the time does not fit so nicely. 
    - 23/07 - seems to be operating as expected
- liquidity selection 
    - 23/07 - added in selection, and seems to be working well
- introduce dynamic risk, based on current positions??
    - 23/07 - added in and working. Retail investors seem to hit the 0.99 limit easily, look to adjust trees to reduce likelihood of this happening?
    - 23/07 - retail investors less likely to hit the 0.99 limit.  